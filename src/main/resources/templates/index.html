<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>OpenEvent — Static Preview</title>
    <link rel="stylesheet" th:href="@{/css/main.css}"/>
    <style>
        /* Chỉnh lại bố cục thanh tìm kiếm cho đều */
        .event-search {
            display: grid;
            grid-template-columns: 2fr 1fr 1.5fr auto;
            gap: 1rem;
            align-items: end;
        }
        
        .es-submit {
            min-width: 140px;
            white-space: nowrap;
            margin-left: 1rem;
        }
        
        /* Search center position like Booking.com */
        .search-center-position {
            margin-top: -80px !important;
            position: relative;
            z-index: 10;
            margin-bottom: 1rem !important;
        }
        
       
        /* Your Events Section - Simple Style */
        .your-events-header {
            margin-bottom: 1rem;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            margin: 0;
        }
        
        /* Reduce section padding */
        .section {
            padding: 1.5rem 0 !important;
        }
        
        /* Simple Event Card Design */
        .event-card-simple {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
        }
        
        .event-card-simple:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }
        
        .event-card-simple .event-cover {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .event-card-simple .card-body {
            padding: 1.5rem;
        }
        
        .event-card-simple .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
            margin: 0 0 0.75rem 0;
            line-height: 1.3;
        }
        
        .event-card-simple .card-meta {
            font-size: 0.9rem;
            color: #6b7280;
            margin: 0 0 0.5rem 0;
        }
        
        .event-card-simple .event-org {
            font-size: 0.9rem;
            color: #6b7280;
            margin: 0 0 1rem 0;
        }
        
        .event-card-simple .capacity {
            margin-bottom: 1rem;
        }
        
        .event-card-simple .capacity-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            font-size: 0.85rem;
            color: #6b7280;
        }
        
        .event-card-simple .capacity-mini {
            font-weight: 600;
            color: #059669;
        }
        
        .event-card-simple .bar {
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .event-card-simple .fill {
            height: 100%;
            background: linear-gradient(90deg, #FF6B35, #e55a2b);
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .event-card-simple .event-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .event-card-simple .tag {
            background: #f3f4f6;
            color: #374151;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .event-card-simple .badge-live {
            background: #FF6B35;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        /* Simple Empty State */
        .empty-events-simple {
            text-align: center;
            padding: 2rem 1rem;
            color: #6b7280;
            font-size: 1rem;
        }
        
        .empty-events-simple a {
            color: #FF6B35;
            text-decoration: none;
            font-weight: 500;
        }
        
        .empty-events-simple a:hover {
            text-decoration: underline;
        }
        
        /* Latest Events Header */
        .latest-events-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .view-more-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: #f8fafc;
            color: #6b7280;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
        }
        
        .view-more-btn:hover {
            background: #FF6B35;
            color: white;
            text-decoration: none;
            border-color: #FF6B35;
        }
        
        .view-more-btn svg {
            transition: transform 0.3s ease;
        }
        
        .view-more-btn:hover svg {
            transform: translateX(4px);
        }
        
        /* Responsive for latest events header */
        @media (max-width: 768px) {
            .latest-events-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
            
            .view-more-btn {
                align-self: stretch;
                justify-content: center;
            }
        }
        
        /* Live Events Header */
        .live-events-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .live-events-header .chip-group {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        /* Responsive for live events header */
        @media (max-width: 768px) {
            .live-events-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
            
            .live-events-header .chip-group {
                align-self: stretch;
                justify-content: center;
            }
        }
        
        /* Add black border to search bar container
        .search-center-position .container {
            border: 3px solid #000000;
            border-radius: 10px;
            background: white;
            padding: 1rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        } */
        
        @media (max-width: 768px) {
            .event-search {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            
            .es-submit {
                min-width: auto;
                width: 100%;
                margin-left: 0;
            }
            
            .search-center-position {
                margin-top: -100px !important;
            }
            
            /* .search-center-position .container {
                margin: 0 1rem;
                padding: 0.75rem;
                border-radius: 8px;
            } */
            
        }
    </style>
</head>

<body class="page-bg">
<div th:replace="fragments/header :: siteHeader('home')"></div>
<main>
    <section class="hero hero--slider">
        <div class="hero-track" id="heroTrack">
            <div class="hero-slide"
                 th:each="event : ${posterEvents}"
                 th:style="|background-image: url('${event.imageUrl}')|">
            </div>

            <div class="hero-slide" th:if="${#lists.isEmpty(posterEvents)}"
                 th:style="|background-image: url('@{/img/banner1.jpg}')|">
            </div>
        </div>

        <button class="hero-nav prev" id="heroPrev" aria-label="Previous">‹</button>
        <button class="hero-nav next" id="heroNext" aria-label="Next">›</button>
        <div class="hero-progress">
            <div class="hero-progress-bar" th:each="event : ${posterEvents}"></div>
            <div class="hero-progress-bar" th:if="${#lists.isEmpty(posterEvents)}"></div>
        </div>
    </section>

    <!-- Search bar positioned like Booking.com -->
    <div class="search-center-position">
        <div class="container">
            <div th:replace="fragments/searchbar :: searchBar"></div>
            <div class="chip-row" style="margin-bottom: 0.5rem;">
                <a class="chip is-active" th:href="@{/events(reco='for-you')}">For you</a>
                <a class="chip" th:href="@{/events(reco='near-you')}">Near you</a>
                <a class="chip" th:href="@{/events(reco='trending')}">Trending</a>
                <a class="chip" th:href="@{/events(freeOnly=true)}">Free</a>
            </div>
        </div>
    </div>

    <section class="section">
        <div class="container">
            <div class="your-events-header">
                <h2 class="section-title">Your Events</h2>
                <!-- Debug info -->
                <div style="background: #f0f0f0; padding: 1rem; margin: 1rem 0; border-radius: 8px; font-size: 0.9rem; display: none;">
                    <strong>Debug Info:</strong><br>
                    MyEvents count: <span th:text="${#lists.size(myEvents)}">0</span><br>
                    <div th:if="${!#lists.isEmpty(myEvents)}">
                        First event title: <span th:text="${myEvents[0].title}">N/A</span><br>
                        First event city: <span th:text="${myEvents[0].city}">N/A</span>
                    </div>
                    <div th:if="${#lists.isEmpty(myEvents)}">
                        <span style="color: red;">No events found - showing hardcoded data</span>
                    </div>
                </div>
            </div>

            <div class="grid grid-3" th:if="${!#lists.isEmpty(myEvents)}">
                <article class="event-card-simple" th:each="ev : ${myEvents}">
                    <a th:href="@{/{eventType}/{id}(eventType=${ev.eventType.name().toLowerCase()}, id=${ev.id})}"
                       style="text-decoration: none; color: inherit;">
                        <img class="event-cover" th:src="${ev.imageUrl}" th:alt="${ev.title}"/>
                        <div class="card-body">
                            <h3 class="card-title" th:text="${ev.title}">Event title</h3>
                            <p class="card-meta" th:text="${ev.city + ' • ' + ev.dateLabel + ' • ' + ev.durationLabel}">City • Date • Duration</p>
                            <p class="event-org" th:text="${'Organizer: ' + ev.organizer}">Organizer: ...</p>

                            <div class="capacity">
                                <div class="capacity-row">
                                    <span th:text="${'Registered: ' + ev.registered + ' / ' + ev.capacity}">Registered: 0 / 0</span>
                                    <span class="capacity-mini" th:text="${'Price: ' + ev.priceLabel}">Price: Free</span>
                                </div>
                                <div class="bar">
                                    <div class="fill" th:style="|width: ${ev.registrationPercentage}%|"></div>
                                </div>
                            </div>

                            <div class="event-tags">
                                <span class="tag" th:text="${'#' + ev.eventTypeTag}">#Tag</span>
                                <span class="badge badge-live" th:if="${ev.live}">Live</span>
                                <span class="tag" th:if="${ev.soldOut}">Sold Out</span>
                            </div>
                        </div>
                    </a>
                </article>
            </div>

            <!-- Empty state for new users -->
            <div class="empty-events-simple" th:if="${#lists.isEmpty(myEvents)}">
                <p>You haven't registered for any events yet. <a href="/events">Explore events</a> to get started!</p>
            </div>

<!--            <div class="grid grid-3" th:if="${#lists.isEmpty(myEvents)}">-->
<!--                <article class="event-card">-->
<!--                    <img src="/img/event1.jpg" alt="UI/UX Bootcamp" class="event-cover"/>-->
<!--                    <div class="card-body">-->
<!--                        <h3 class="card-title">UI/UX Bootcamp</h3>-->
<!--                        <p class="card-meta">Hà Nội • 20/09/2025 • 3h</p>-->
<!--                        <p class="event-org">Organizer: Design Lab</p>-->
<!--                        <div class="capacity">-->
<!--                            <div class="capacity-row">-->
<!--                                <span>Registered: 90 / 150</span>-->
<!--                                <span class="capacity-mini">Price: Free</span>-->
<!--                            </div>-->
<!--                            <div class="bar">-->
<!--                                <div class="fill" style="width:60%"></div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="event-tags">-->
<!--                            <span class="tag">#Workshop</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </article>-->

<!--                <article class="event-card">-->
<!--                    <img src="/img/event2.jpg" alt="Summer Fest" class="event-cover"/>-->
<!--                    <div class="card-body">-->
<!--                        <h3 class="card-title">Summer Fest</h3>-->
<!--                        <p class="card-meta">HCM • 22/09/2025 • 2h</p>-->
<!--                        <p class="event-org">Organizer: Event Hub</p>-->
<!--                        <div class="capacity">-->
<!--                            <div class="capacity-row">-->
<!--                                <span>Registered: 480 / 600</span>-->
<!--                                <span class="capacity-mini">Price: 100k</span>-->
<!--                            </div>-->
<!--                            <div class="bar">-->
<!--                                <div class="fill" style="width:80%"></div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="event-tags">-->
<!--                            <span class="tag">#Festival</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </article>-->

<!--                <article class="event-card">-->
<!--                    <img src="/img/event3.jpg" alt="Open Campus Tour" class="event-cover"/>-->
<!--                    <div class="card-body">-->
<!--                        <h3 class="card-title">Open Campus Tour</h3>-->
<!--                        <p class="card-meta">Đà Nẵng • 17/09/2025 • 1.5h</p>-->
<!--                        <p class="event-org">Organizer: FPT University</p>-->
<!--                        <div class="capacity">-->
<!--                            <div class="capacity-row">-->
<!--                                <span>Registered: 150 / 150</span>-->
<!--                                <span class="capacity-mini">Price: Free</span>-->
<!--                            </div>-->
<!--                            <div class="bar">-->
<!--                                <div class="fill" style="width:100%"></div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="event-tags">-->
<!--                            <span class="tag">#Conference</span>-->
<!--                            <span class="tag">Sold Out</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </article>-->
<!--            </div>-->

            <div class="pager">
                <button class="icon-btn" aria-label="Prev">‹</button>
                <span>1 / 5</span>
                <button class="icon-btn" aria-label="Next">›</button>
            </div>
        </div>
    </section>

    <section class="section">
        <div class="container">
                <div class="latest-events-header">
                    <h2 class="section-title">Latest Events</h2>
                    <div class="pagination-controls" th:if="${!#lists.isEmpty(latestEvents)}">
                        <button class="pagination-btn prev-btn" id="prevLatestBtn" disabled>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.0898 4.08L8.56984 10.6C7.79984 11.37 7.79984 12.63 8.56984 13.4L15.0898 19.92" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span>Previous</span>
                        </button>
                        <span class="pagination-info" id="latestPaginationInfo">1 of 1</span>
                        <button class="pagination-btn next-btn" id="nextLatestBtn">
                            <span>Next</span>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.91016 19.92L15.4302 13.4C16.2002 12.63 16.2002 11.37 15.4302 10.6L8.91016 4.08" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>

            <div class="grid grid-3" th:if="${!#lists.isEmpty(latestEvents)}">
                <article class="event-card-simple" th:each="ev : ${latestEvents}">
                    <a th:href="@{/{eventType}/{id}(eventType=${ev.eventType.name().toLowerCase()}, id=${ev.id})}"
                       style="text-decoration: none; color: inherit;">
                        <img class="event-cover" th:src="${ev.imageUrl}" th:alt="${ev.title}"/>
                        <div class="card-body">
                            <h3 class="card-title" th:text="${ev.title}">Event title</h3>
                            <p class="card-meta" th:text="${ev.city + ' • ' + ev.dateLabel + ' • ' + ev.durationLabel}">City • Date • Duration</p>
                            <p class="event-org" th:text="${'Organizer: ' + ev.organizer}">Organizer: ...</p>

                            <div class="capacity">
                                <div class="capacity-row">
                                    <span th:text="${'Registered: ' + ev.registered + ' / ' + ev.capacity}">Registered: 0 / 0</span>
                                    <span class="capacity-mini" th:text="${'Price: ' + ev.priceLabel}">Price: Free</span>
                                </div>
                                <div class="bar">
                                    <div class="fill" th:style="|width: ${ev.registrationPercentage}%|"></div>
                                </div>
                            </div>

                            <div class="event-tags">
                                <span class="tag" th:text="${'#' + ev.eventTypeTag}">#Tag</span>
                                <span class="badge badge-live" th:if="${ev.live}">Live</span>
                                <span class="tag" th:if="${ev.soldOut}">Sold Out</span>
                            </div>
                        </div>
                    </a>
                </article>
            </div>

            <!-- Empty state for latest events -->
            <div class="empty-events-simple" th:if="${#lists.isEmpty(latestEvents)}">
                <p>No latest events available. <a href="/events">Check out all events</a>!</p>
            </div>
        </div>
    </section>

    <section class="section live">
        <div class="container">
            <div class="live-events-header">
                <h2 class="section-title">Live Events</h2>
                <div class="chip-group">
                    <button class="chip is-active" data-filter="all">All</button>
                    <button class="chip" data-filter="Music">Music</button>
                    <button class="chip" data-filter="Workshop">Workshop</button>
                    <button class="chip" data-filter="Conference">Conference</button>
                    <button class="chip" data-filter="Festival">Festival</button>
                    <button class="chip" data-filter="Competition">Competition</button>
                    <button class="chip" data-filter="Other">Other</button>
                </div>
            </div>

            <div class="grid grid-3" th:if="${!#lists.isEmpty(liveEvents)}">
                <article class="event-card" th:each="ev : ${liveEvents}" th:attr="data-tags=${ev.eventTypeTag}">
                    <a th:href="@{/{eventType}/{id}(eventType=${ev.eventType.name().toLowerCase()}, id=${ev.id})}"
                       style="text-decoration: none; color: inherit;">
                        <img class="event-cover" th:src="${ev.imageUrl}" th:alt="${ev.title}"/>
                        <div class="card-body">
                            <h3 class="card-title" th:text="${ev.title}">Event title</h3>
                            <p class="card-meta" th:text="${ev.city + ' • Today • ' + ev.durationLabel}">City • Today • Duration</p>
                            <p class="event-org" th:text="${'Organizer: ' + ev.organizer}">Organizer: ...</p>

                            <div class="capacity">
                                <div class="capacity-row">
                                    <span th:text="${'Registered: ' + ev.registered + ' / ' + ev.capacity}">Registered: 0 / 0</span>
                                    <span class="capacity-mini" th:text="${'Price: ' + ev.priceLabel}">Price: Free</span>
                                </div>
                                <div class="bar">
                                    <div class="fill" th:style="|width: ${ev.registrationPercentage}%|"></div>
                                </div>
                            </div>

                            <div class="event-tags">
                                <span class="tag" th:text="${'#' + ev.eventTypeTag}">Tag</span>
                                <span class="badge badge-live">Live</span>
                            </div>
                        </div>
                    </a>
                </article>
            </div>

            <div class="grid grid-3" th:if="${#lists.isEmpty(liveEvents)}">
                Card 1
                <article class="event-card" data-tags="Music">
                    <img src="/img/event1.jpg" alt="Acoustic Night" class="event-cover"/>
                    <div class="card-body">
                        <h3 class="card-title">Acoustic Night</h3>
                        <p class="card-meta">HCM • Today • 2h</p>
                        <p class="event-org">Organizer: Music Club</p>
                        <div class="capacity">
                            <div class="capacity-row">
                                <span>Registered: 216 / 300</span>
                                <span class="capacity-mini">Price: Free</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="width:72%"></div>
                            </div>
                        </div>
                        <div class="event-tags">
                            <span class="tag">#Music</span>
                            <span class="tag">#Free</span>
                            <span class="badge badge-live">Live</span>
                        </div>
                    </div>
                </article>

                <article class="event-card" data-tags="Workshop">
                    <img src="/img/event2.jpg" alt="AI Workshop" class="event-cover"/>
                    <div class="card-body">
                        <h3 class="card-title">AI Workshop</h3>
                        <p class="card-meta">Hà Nội • Today • 1h</p>
                        <p class="event-org">Organizer: GDSC</p>
                        <div class="capacity">
                            <div class="capacity-row">
                                <span>Registered: 110 / 200</span>
                                <span class="capacity-mini">Price: 50k</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="width:55%"></div>
                            </div>
                        </div>
                        <div class="event-tags">
                            <span class="tag">#Workshop</span>
                            <span class="badge badge-live">Live</span>
                        </div>
                    </div>
                </article>

                <article class="event-card" data-tags="Conference">
                    <img src="/img/event3.jpg" alt="Tech Summit" class="event-cover"/>
                    <div class="card-body">
                        <h3 class="card-title">Tech Summit</h3>
                        <p class="card-meta">Đà Nẵng • Today • 3h</p>
                        <p class="event-org">Organizer: Biz Club</p>
                        <div class="capacity">
                            <div class="capacity-row">
                                <span>Registered: 352 / 400</span>
                                <span class="capacity-mini">Price: 200k</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="width:88%"></div>
                            </div>
                        </div>
                        <div class="event-tags">
                            <span class="tag">#Conference</span>
                            <span class="badge badge-live">Live</span>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </section>



<!--    top student -->
    <section class="section section-muted">
        <div class="container">
            <div class="honor-frame">
                <div class="filter-row honor-head">
                  <span class="filter-label">
                      <span class="section-icon">🏆</span>
                      Top Outstanding Students
                  </span>
                </div>

                <div class="podium-layout">
                    <!-- Slot 2 - Rank 2 (Left, Medium height) -->
                    <div class="podium-slot slot-second">
                        <div class="slot-number">2</div>
                        <div class="featured-card rank-2">
                            <div class="rank-badge">🥈 No.2</div>

                            <div class="card-header">
                                <span class="card-title-small">OUTSTANDING</span>
                            </div>

                            <div class="student-image-container">
                                <img th:src="@{/img/sinhvien3.jpg}" alt="Trần Lê Gia Khang" class="student-image"/>
                                <div class="background-graphic"></div>
                            </div>

                            <div class="card-footer">
                                <div class="student-title">Brother</div>
                                <div class="student-name">TRẦN LÊ GIA KHANG</div>
                                <div class="event-stats">15 Events</div>
                            </div>

                            <div class="decorative-elements">
                                <span class="deco-icon">✕</span>
                                <span class="deco-icon">✕</span>
                                <span class="deco-icon">✕</span>
                                <span class="deco-icon">✕</span>
                            </div>
                        </div>
                    </div>

                    <!-- Slot 1 - Rank 1 (Center, Highest) -->
                    <div class="podium-slot slot-first">
                        <div class="slot-number">1</div>
                        <div class="featured-card rank-1">
                            <div class="rank-badge">🥇 No.1</div>

                            <div class="card-header">
                                <span class="card-title-small">OUTSTANDING</span>
                            </div>

                            <div class="student-image-container">
                                <img th:src="@{/img/sinhvien2.jpg}" alt="Trần Lê Gia Khang" class="student-image"/>
                                <div class="background-graphic"></div>
                            </div>

                            <div class="card-footer">
                                <div class="student-title">Brother</div>
                                <div class="student-name">TRẦN LÊ GIA KHANG</div>
                                <div class="event-stats">15 Events</div>
                            </div>

                            <div class="decorative-elements">
                                <span class="deco-icon">✕</span>
                                <span class="deco-icon">✕</span>
                                <span class="deco-icon">✕</span>
                                <span class="deco-icon">✕</span>
                            </div>
                        </div>
                    </div>

                    <!-- Slot 3 - Rank 3 (Right, Lowest) -->
                    <div class="podium-slot slot-third">
                        <div class="slot-number">3</div>
                        <div class="featured-card rank-3">
                            <div class="rank-badge">🥉 No.3</div>

                            <div class="card-header">
                                <span class="card-title-small">OUTSTANDING</span>
                            </div>

                            <div class="student-image-container">
                                <img th:src="@{/img/sinhvien2.jpg}" alt="Trần Lê Gia Khang" class="student-image"/>
                                <div class="background-graphic"></div>
                            </div>

                            <div class="card-footer">
                                <div class="student-title">Brother</div>
                                <div class="student-name">TRẦN LÊ GIA KHANG</div>
                                <div class="event-stats">15 Events</div>
                            </div>

                            <div class="decorative-elements">
                                <span class="deco-icon">✕</span>
                                <span class="deco-icon">✕</span>
                                <span class="deco-icon">✕</span>
                                <span class="deco-icon">✕</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="section">
        <div class="container">
            <div class="filter-row">
                  <span class="filter-label">
                      <span class="section-icon">💡</span>
                      Recommended for You
                  </span>
                <div class="chip-group">
                    <button class="chip is-active" data-reco="for-you">For you</button>
                    <button class="chip" data-reco="near-you">Near you</button>
                    <button class="chip" data-reco="trending">Trending</button>
                    <button class="chip" data-reco="free">Free</button>
                </div>
            </div>

            <div class="grid grid-3" th:if="${!#lists.isEmpty(recommendedEvents)}">
                <article class="event-card" th:each="event : ${recommendedEvents}">
                    <a th:href="@{/{eventType}/{id}(eventType=${event.eventType.name().toLowerCase()}, id=${event.id})}"
                       style="text-decoration: none; color: inherit;">
                        <img class="event-cover" th:src="${event.imageUrl}" th:alt="${event.title}"/>
                        <div class="card-body">
                            <h3 class="card-title" th:text="${event.title}">Event title</h3>
                            <p class="card-meta"
                               th:text="${event.city + ' • ' + event.dateLabel + ' • ' + event.durationLabel}">
                                City • Date • Duration
                            </p>
                            <p class="event-org" th:text="${'Organizer: ' + event.organizer}">Organizer: ...</p>

                            <div class="capacity">
                                <div class="capacity-row">
                                    <span th:text="${'Registered: ' + event.registered + ' / ' + event.capacity}">
                                        Registered: 0 / 0
                                    </span>
                                    <span class="capacity-mini" th:text="${'Price: ' + event.priceLabel}">Price: Free</span>
                                </div>
                                <div class="bar">
                                    <div class="fill" th:style="|width: ${event.registrationPercentage}%|"></div>
                                </div>
                            </div>

                            <div class="event-tags">
                                <span class="tag" th:text="${'#' + event.eventTypeTag}">#Tag</span>
                                <span class="badge badge-live" th:if="${event.live}">Live</span>
                                <span class="tag" th:if="${event.soldOut}">Sold Out</span>
                            </div>
                        </div>
                    </a>
                </article>
            </div>

            <div class="grid grid-3" th:if="${#lists.isEmpty(recommendedEvents)}">
                <article class="event-card">
                    <img src="/img/event2.jpg" alt="Tên sự kiện" class="event-cover"/>
                    <div class="card-body">
                        <h3 class="card-title">Data Viz 101</h3>
                        <p class="card-meta">Hà Nội • 28/09/2025 • 2h</p>
                        <p class="event-org">Organizer: DS Club</p>
                        <div class="capacity">
                            <div class="capacity-row">
                                <span>Registered: 120 / 200</span>
                                <span class="capacity-mini">Price: 70k</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="width:60%"></div>
                            </div>
                        </div>
                        <div class="event-tags">
                            <span class="tag">#Workshop</span>
                        </div>
                    </div>
                </article>

                <article class="event-card">
                    <img src="/img/event1.jpg" alt="Tên sự kiện" class="event-cover"/>
                    <div class="card-body">
                        <h3 class="card-title">Startup Night</h3>
                        <p class="card-meta">HCM • 30/09/2025 • 2.5h</p>
                        <p class="event-org">Organizer: Startup Hub</p>
                        <div class="capacity">
                            <div class="capacity-row">
                                <span>Registered: 300 / 500</span>
                                <span class="capacity-mini">Price: Free</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="width:60%"></div>
                            </div>
                        </div>
                        <div class="event-tags">
                            <span class="tag">#Conference</span>
                            <span class="tag">#Free</span>
                        </div>
                    </div>
                </article>

                <article class="event-card">
                    <img src="/img/event3.jpg" alt="Tên sự kiện" class="event-cover"/>
                    <div class="card-body">
                        <h3 class="card-title">Campus Coding Jam</h3>
                        <p class="card-meta">Đà Nẵng • 05/10/2025 • 3h</p>
                        <p class="event-org">Organizer: Biz Club</p>
                        <div class="capacity">
                            <div class="capacity-row">
                                <span>Registered: 150 / 180</span>
                                <span class="capacity-mini">Price: 120k</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="width:83%"></div>
                            </div>
                        </div>
                        <div class="event-tags">
                            <span class="tag">#Competition</span>
                        </div>
                    </div>
                </article>
            </div>

            <div class="carousel-nav">
                <button class="icon-btn" id="recoPrev" aria-label="Prev">‹</button>
                <button class="icon-btn" id="recoNext" aria-label="Next">›</button>
            </div>
        </div>
    </section>


</main>


<div th:replace="fragments/footer :: siteFooter()"></div>

<script th:src="@{/js/main.js}"></script>
</body>
</html>
