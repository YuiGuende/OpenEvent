<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title th:text="${event.title} + ' - Workshop Details'"></title>

    <link rel="stylesheet" th:href="@{/workshop/assets/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/workshop/assets/fonts/line-icons.css}">
    <link rel="stylesheet" th:href="@{/workshop/assets/css/slicknav.css}">
    <link rel="stylesheet" th:href="@{/workshop/assets/css/nivo-lightbox.css}">
    <link rel="stylesheet" th:href="@{/workshop/assets/css/animate.css}">
    <link rel="stylesheet" th:href="@{/workshop/assets/css/main.css}">
    <link rel="stylesheet" th:href="@{/workshop/assets/css/responsive.css}">
    <link rel="stylesheet" th:href="@{/css/music-theme.css}">

</head>
<body>
<section class="hero hero--slider hero--compact">
    <div class="hero-track" id="heroTrack">
        <div th:each="img : ${eventImages}"
             class="hero-slide"
             th:style="|background-image: url('${img.url}')|">
            <div class="container hero-content">
                <div class="hero-actions text-right">
                    <a class="btn btn-common" href="#pricing">Get Ticket</a>
                </div>
            </div>
        </div>
    </div>
    <button class="hero-nav prev" id="heroPrev" aria-label="Previous">‹</button>
    <button class="hero-nav next" id="heroNext" aria-label="Next">›</button>
    <div class="hero-progress">
        <div class="hero-progress-bar" th:each="img : ${eventImages}"></div>
    </div>
</section>

<section class="countdown-timer section-padding-compact">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="heading-count">
                    <h2 class="wow fadeInDown" data-wow-delay="0.2s">Workshop Will Start In</h2>
                </div>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="row time-countdown justify-content-center wow fadeInUp" data-wow-delay="0.2s">
                    <div id="clock" class="time-count"></div>
                </div>
                <div class="text-center mt-2">
                    <a href="#" class="btn btn-common wow fadeInUp" data-wow-delay="0.3s">
                        Add to My Calendar
                    </a>
                </div>
                <div class="countdown-separator wow fadeInUp" data-wow-delay="0.4s">
                    <div class="separator-line"></div>
                    <div class="separator-icon">
                        <i class="lni-pencil-alt"></i>
                    </div>
                    <div class="separator-line"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<script th:inline="javascript">
    /*<![CDATA[*/
    document.addEventListener('DOMContentLoaded', function() {
        const eventStartDateStr = /*[[${event.startsAt != null ? #temporals.format(event.startsAt, "yyyy-MM-dd'T'HH:mm:ss") : ''}]]*/ '';
        const eventStartDate = eventStartDateStr ? new Date(eventStartDateStr).getTime() : null;
        const clockElement = document.getElementById("clock");

        if (!eventStartDate || !clockElement) {
            if (clockElement) clockElement.innerHTML = "<h3>No start date available</h3>";
            return;
        }

        const countdown = setInterval(function () {
            const now = new Date().getTime();
            const distance = eventStartDate - now;

            if (distance < 0) {
                clearInterval(countdown);
                clockElement.innerHTML = "<h3>Workshop is happening now!</h3>";
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            clockElement.innerHTML = `
            <div class="time-entry"><span>${days}</span><div class="label">DAYS</div></div>
            <div class="time-entry"><span>${hours.toString().padStart(2, '0')}</span><div class="label">HOURS</div></div>
            <div class="time-entry"><span>${minutes.toString().padStart(2, '0')}</span><div class="label">MINUTES</div></div>
            <div class="time-entry"><span>${seconds.toString().padStart(2, '0')}</span><div class="label">SECONDS</div></div>`;
        }, 1000);
    });
    /*]]>*/
</script>

<section id="descriptionm" class="section-padding-compact">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title-header text-center">
                    <h1 class="section-title wow fadeInUp" data-wow-delay="0.2s" th:text="${event.title}">Workshop Title</h1>
                    <p class="wow fadeInDown" data-wow-delay="0.2s" th:text="'Type: ' + ${event.eventType}">WORKSHOP</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="event-description-box wow fadeInUp" data-wow-delay="0.3s">
                    <h2 th:text="${event.title}">Workshop Title</h2>
                    <p class="lead"><i class="lni-agenda"></i> <span th:text="${event.description}">Event description</span></p>
                    <p><i class="lni-timer"></i> Start: <span th:text="${#temporals.format(event.startsAt, 'dd/MM/yyyy HH:mm')}"></span> - End: <span th:text="${#temporals.format(event.endsAt, 'dd/MM/yyyy HH:mm')}"></span></p>
                    <p><i class="lni-bookmark"></i> Topic: <span th:text="${event.topic}">Workshop Topic</span></p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="about" class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title-header text-center">
                    <h1 class="section-title wow fadeInUp" data-wow-delay="0.2s">About This Workshop</h1>
                    <p class="wow fadeInDown" data-wow-delay="0.2s" th:text="${event.title}">Workshop subtitle</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-md-6 col-lg-4">
                <div class="about-item">
                    <img class="img-fluid" th:src="@{/workshop/assets/img/about/img1.jpg}" alt="">
                    <div class="about-text">
                        <h3><a href="#">Skill Level & Prerequisites</a></h3>
                        <p th:text="'Level: ' + ${event.skillLevel}">Skill level required.</p>
                        <p th:text="'Requires: ' + ${event.prerequisites}">Prerequisites for joining.</p>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-6 col-lg-4">
                <div class="about-item">
                    <img class="img-fluid" th:src="@{/workshop/assets/img/about/img2.jpg}" alt="">
                    <div class="about-text">
                        <h3><a href="#">Workshop Materials</a></h3>
                        <p>All necessary materials and documents for the session will be provided.</p>
                        <a class="btn btn-common btn-rm" th:href="${event.materialsLink}" target="_blank">View Materials</a>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-6 col-lg-4">
                <div class="about-item">
                    <img class="img-fluid" th:src="@{/workshop/assets/img/about/img3.jpg}" alt="">
                    <div class="about-text">
                        <h3><a href="#">Benefits of Joining</a></h3>
                        <p th:text="${event.benefits}">Benefits of joining this workshop.</p>
                        <a class="btn btn-common btn-rm" href="#pricing">Register Now</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!--counter section còn icon của phần skill level chưa xử lý được-->
<section class="counter-section section-padding">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-lg-3 col-xs-12 work-counter-widget text-center">
                <div class="counter wow fadeInRight" data-wow-delay="0.3s">
                    <div class="icon"><i class="lni-map"></i></div>
                    <p th:text="${event.places != null and !event.places.isEmpty() ? event.places[0].placeName : 'FPT University'}"></p>
                    <span th:text="${event.places != null and !event.places.isEmpty() ? event.places[0].building : 'Gamma Building'}"></span>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 col-xs-12 work-counter-widget text-center">
                <div class="counter wow fadeInRight" data-wow-delay="0.6s">
                    <div class="icon"><i class="lni-timer"></i></div>
                    <p th:text="${#temporals.format(event.startsAt, 'dd/MM/yyyy')}"></p>
                    <span th:text="${#temporals.format(event.startsAt, 'HH:mm')} + ' – ' + ${#temporals.format(event.endsAt, 'HH:mm')}"></span>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 col-xs-12 work-counter-widget text-center">
                <div class="counter wow fadeInRight" data-wow-delay="0.9s">
                    <div class="icon"><i class="lni-users"></i></div>
                    <p th:text="${event.maxParticipants != null ? event.maxParticipants + ' Participants' : 'Unlimited'}"></p>
                    <span>Register early to secure your spot</span>
                </div>
            </div>
            <div class="col-md-6 col-lg-3 col-xs-12 work-counter-widget text-center">
                <div class="counter wow fadeInRight" data-wow-delay="1.2s">
                    <div class="icon"><i class="lni-certificate"></i></div>
                    <p th:text="${event.skillLevel != null ? event.skillLevel : 'All Levels'}"></p>
                    <span>Skill Level</span>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="schedules" class="schedule section-padding">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title-header text-center">
                    <h1 class="section-title wow fadeInUp" data-wow-delay="0.2s">Workshop Agenda</h1>
                    <p class="wow fadeInDown" data-wow-delay="0.2s">Discover the activities and sessions <br> throughout the day of [[${event.title}]]</p>
                </div>
            </div>
        </div>
        <div class="schedule-area row wow fadeInDown" data-wow-delay="0.3s">
            <div class="schedule-tab-title col-md-3 col-lg-3 col-xs-12">
                <div class="table-responsive">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item" th:each="entry, iterStat : ${scheduleEntries}">
                            <a class="nav-link" th:classappend="${iterStat.index == 0} ? 'active' : ''" th:id="'day-' + ${iterStat.index} + '-tab'" data-toggle="tab" th:href="'#day-' + ${iterStat.index}" role="tab" th:aria-controls="'day-' + ${iterStat.index}" th:aria-expanded="${iterStat.index == 0}">
                                <div class="item-text">
                                    <h4 th:text="'Day ' + (${iterStat.index + 1})"></h4>
                                    <h5 th:text="${#temporals.format(entry.key, 'dd MMMM yyyy')}"></h5>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="schedule-tab-content col-md-9 col-lg-9 col-xs-12 clearfix">
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade" th:each="entry, iterStat : ${scheduleEntries}" th:id="'day-' + ${iterStat.index}" role="tabpanel" th:classappend="${iterStat.index == 0} ? 'show active' : ''" th:aria-labelledby="'day-' + ${iterStat.index} + '-tab'">
                        <div th:id="'accordion-' + ${iterStat.index}">
                            <div class="card" th:each="schedule : ${entry.value}">
                                <div class="card-header">
                                    <span class="time" th:text="${#temporals.format(schedule.startTime, 'HH:mm')} + ' - ' + ${#temporals.format(schedule.endTime, 'HH:mm')}"></span>
                                    <h4 th:text="${schedule.activity}">Activity Name</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="team" class="section-padding text-center">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title-header text-center">
                    <h1 class="section-title wow fadeInUp" data-wow-delay="0.2s">Our Speakers</h1>
                    <p class="wow fadeInDown" data-wow-delay="0.2s">Meet the experts and instructors of this workshop</p>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-4 col-md-6 col-sm-6" th:each="sp : ${event.speakers}">
                <div class="simple-artist-card wow fadeInUp" data-wow-delay="0.2s">
                    <div class="artist-image">
                        <img class="img-fluid" th:src="${sp.imageUrl}" th:alt="${sp.name}">
                    </div>
                    <div class="artist-info">
                        <h3 th:text="${sp.name}">Speaker Name</h3>
                        <p th:text="${sp.role}">Role</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="gallery" class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title-header text-center">
                    <h1 class="section-title wow fadeInUp" data-wow-delay="0.2s">Workshop Gallery</h1>
                    <p class="wow fadeInDown" data-wow-delay="0.2s">Memorable moments from our previous workshops</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 col-sm-6 col-lg-4" th:each="img : ${event.imageUrls}">
                <div class="gallery-box">
                    <div class="img-thumb">
                        <img class="img-fluid" th:src="${img}" alt="Workshop Gallery Image">
                    </div>
                    <div class="overlay-box text-center">
                        <a class="lightbox" th:href="${img}"><i class="lni-plus"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="faq" class="section-padding">
</section>

<section id="sponsors" class="section-padding">
</section>

<section id="pricing" class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title-header text-center">
                    <h1 class="section-title wow fadeInUp" data-wow-delay="0.2s">Registration Packages</h1>
                    <p class="wow fadeInDown" data-wow-delay="0.2s">Choose your package to join <span th:text="${event.title}">the workshop</span></p>
                </div>
            </div>
        </div>
        <div class="row" th:if="${tickets == null or #lists.isEmpty(tickets)}">
            <div class="col-12 text-center text-muted"><p>Tickets are not available yet.</p></div>
        </div>
        <div class="row" th:if="${!#lists.isEmpty(tickets)}">
            <div class="col-lg-4 col-sm-6 col-xa-12 mb-3" th:each="ticket, iter : ${tickets}" th:classappend="${iter.index == 0} ? ' wow fadeInLeft' : (${iter.index == 1} ? ' wow fadeInUp' : ' wow fadeInRight')" th:data-wow-delay="'0.' + ${iter.index + 2} + 's'">
                <div class="price-block-wrapper" >
                    <div class="icon"><i th:class="${iter.index == 0} ? 'lni-write' : (${iter.index == 1} ? 'lni-layers' : 'lni-leaf')"></i></div>
                    <div class="colmun-title"><h5 th:text="${ticket.name}">Ticket Name</h5></div>
                    <div class="price">
                        <h2 th:text="${#numbers.formatDecimal(ticket.price, 0, 'COMMA', 0, 'POINT')} + ' VND'">Price</h2>
                        <p><span th:text="${ticket.getAvailableQuantity()}"></span> / <span th:text="${ticket.totalQuantity}"></span> Tickets Available</p>
                    </div>
                    <div class="pricing-list">
                        <ul><li><i class="lni-check-mark-circle"></i> <span class="text" th:text="${ticket.description}">Description</span></li></ul>
                    </div>
                    <a th:if="${ticket.isAvailable()}" th:href="@{'/ticket/buy/' + ${ticket.ticketTypeId}}" class="btn btn-common">Buy Ticket</a>
                    <a th:if="${!ticket.isAvailable()}" href="#" class="btn btn-common disabled" style="background-color: #ccc;">Sold Out</a>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="event-slides" class="section-padding" th:if="${event != null}">
    <div class="container">
        <div class="row">
            <!-- Tiêu đề -->
            <div class="col-12">
                <div class="section-title-header text-center">
                    <h1 class="section-title wow fadeInUp" data-wow-delay="0.2s">Event Guidelines</h1>
                    <p class="wow fadeInDown" data-wow-delay="0.2s">
                        All the information you need for the best experience at
                        <span th:text="${event.title}">FPT Music Festival</span>
                    </p>
                </div>
            </div>

            <!-- Bên trái: Google Map -->
            <div class="col-md-6 col-lg-6 col-xs-12 wow fadeInRight" data-wow-delay="0.3s">
                <div class="video" style="border-radius:10px; overflow:hidden;">
                    <iframe
                            th:src="@{|https://www.google.com/maps?q=${event.venueAddress != null ? event.venueAddress : 'FPT University Da Nang'}&output=embed|}"
                            width="100%" height="350" style="border:0;" allowfullscreen="">
                    </iframe>
                </div>

                <!-- Nút mở Google Maps -->
                <a class="btn btn-outline-primary mt-3"
                   th:href="@{|https://www.google.com/maps/dir/?api=1&destination=${event.venueAddress != null ? event.venueAddress : 'FPT University Da Nang'}|}"
                   target="_blank">
                    Open in Google Maps
                </a>
            </div>

            <!-- Bên phải: Nội dung hướng dẫn -->
            <div class="col-md-6 col-lg-6 col-xs-12 wow fadeInLeft" data-wow-delay="0.3s">
                <p class="intro-desc">
                    Join us at
                    <span th:text="${event.venueAddress != null ? event.venueAddress : 'FPT University Da Nang'}">FPT University Da Nang</span>
                    for an unforgettable experience!
                </p>

                <h2 class="intro-title">Event Day Instructions</h2>

                <ul class="list-specification">
                    <li th:each="line : ${#strings.arraySplit(event.guidelines, '\\.')}"
                        th:if="${#strings.trim(line) != ''}">
                        <i class="lni-check-mark-circle"></i>
                        <span th:text="${#strings.trim(line) + '.'}">Instruction</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>


<!-- Blog Section Start -->
<section id="blog" class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title-header text-center">
                    <h1 class="section-title wow fadeInUp" data-wow-delay="0.2s">Latest News & Articles</h1>
                    <p class="wow fadeInDown" data-wow-delay="0.2s">Stay updated with the latest information about FPT Music Festival 2025</p>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-xs-12">
                <div class="blog-item">
                    <div class="blog-image">
                        <a href="#">
                            <img class="img-fluid" th:src="@{/music/assets/img/blog/img-1.jpg}" alt="">
                        </a>
                    </div>
                    <div class="descr">
                        <div class="tag">Design</div>
                        <h3 class="title">
                            <a href="single-blog.html">
                                The 9 Design Trends You Need to Know
                            </a>
                        </h3>
                        <div class="meta-tags">
                            <span class="date">Jan 20, 2018</span>
                            <span class="comments">| <a href="#"> by Cindy Jefferson</a></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-xs-12">
                <div class="blog-item">
                    <div class="blog-image">
                        <a href="#">
                            <img class="img-fluid" th:src="@{/music/assets/img/blog/img-2.jpg}" alt="">
                        </a>
                    </div>
                    <div class="descr">
                        <div class="tag">Design</div>
                        <h3 class="title">
                            <a href="single-blog.html">
                                The 9 Design Trends You Need to Know
                            </a>
                        </h3>
                        <div class="meta-tags">
                            <span class="date">Jan 20, 2018 </span>
                            <span class="comments">| <a href="#"> by Cindy Jefferson</a></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-xs-12">
                <div class="blog-item">
                    <div class="blog-image">
                        <a href="#">
                            <img class="img-fluid" th:src="@{/music/assets/img/blog/img-3.jpg}" alt="">
                        </a>
                    </div>
                    <div class="descr">
                        <div class="tag">Design</div>
                        <h3 class="title">
                            <a href="single-blog.html">
                                The 9 Design Trends You Need to Know
                            </a>
                        </h3>
                        <div class="meta-tags">
                            <span class="date">Jan 20, 2018</span>
                            <span class="comments">| <a href="#"> by Cindy Jefferson</a></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 text-center">
                <a href="#" class="btn btn-common">Read More News</a>
            </div>
        </div>
    </div>
</section>


<!-- Subscribe Area Start -->
<div id="subscribe" class="section-padding">
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-md-10 col-lg-7">
                <div class="subscribe-inner wow fadeInDown" data-wow-delay="0.3s">
                    <h2 class="subscribe-title">Stay Updated with FPT Workshop</h2>
                    <form class="text-center form-inline">
                        <input class="mb-20 form-control" name="email" placeholder="Enter Your Email to Get Latest Updates">
                        <button type="submit" class="btn btn-common sub-btn" data-style="zoom-in" data-spinner-size="30" name="submit" id="submit">
                            <span class="ladda-label"><i class="lni-music"></i> Subscribe</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Subscribe Area End -->




<a href="#" class="back-to-top music-scroll-btn">
    <div class="music-icon"><div class="note note-1">♪</div><div class="note note-2">♫</div><div class="note note-3">♪</div></div>
    <div class="scroll-text">TOP</div>
</a>

<div id="preloader">
    <div class="sk-circle">
        <div class="sk-circle1 sk-child"></div><div class="sk-circle2 sk-child"></div><div class="sk-circle3 sk-child"></div><div class="sk-circle4 sk-child"></div><div class="sk-circle5 sk-child"></div><div class="sk-circle6 sk-child"></div><div class="sk-circle7 sk-child"></div><div class="sk-circle8 sk-child"></div><div class="sk-circle9 sk-child"></div><div class="sk-circle10 sk-child"></div><div class="sk-circle11 sk-child"></div><div class="sk-circle12 sk-child"></div>
    </div>
</div>

<script th:src="@{/workshop/assets/js/jquery-min.js}"></script>
<script th:src="@{/workshop/assets/js/popper.min.js}"></script>
<script th:src="@{/workshop/assets/js/bootstrap.min.js}"></script>
<script th:src="@{/workshop/assets/js/jquery.countdown.min.js}"></script>
<script th:src="@{/workshop/assets/js/jquery.nav.js}"></script>
<script th:src="@{/workshop/assets/js/jquery.easing.min.js}"></script>
<script th:src="@{/workshop/assets/js/wow.js}"></script>
<script th:src="@{/workshop/assets/js/jquery.slicknav.js}"></script>
<script th:src="@{/workshop/assets/js/nivo-lightbox.js}"></script>
<script th:src="@{/workshop/assets/js/main.js}"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const heroTrack = document.getElementById('heroTrack');
        const heroSlides = document.querySelectorAll('.hero-slide');
        const prevBtn = document.getElementById('heroPrev');
        const nextBtn = document.getElementById('heroNext');
        const progressBars = document.querySelectorAll('.hero-progress-bar');
        if (!heroTrack) return;
        let currentSlide = 0;
        const totalSlides = heroSlides.length;
        function updateSlider() {
            const translateX = -currentSlide * 100;
            heroTrack.style.transform = `translateX(${translateX}%)`;
            progressBars.forEach((bar, index) => bar.classList.toggle('active', index === currentSlide));
        }
        function nextSlide() { currentSlide = (currentSlide + 1) % totalSlides; updateSlider(); }
        function prevSlide() { currentSlide = (currentSlide - 1 + totalSlides) % totalSlides; updateSlider(); }
        nextBtn.addEventListener('click', nextSlide);
        prevBtn.addEventListener('click', prevSlide);
        progressBars.forEach((bar, index) => {
            bar.addEventListener('click', () => { currentSlide = index; updateSlider(); });
        });
        setInterval(nextSlide, 5000);
        updateSlider();
    });
</script>
</body>
</html>